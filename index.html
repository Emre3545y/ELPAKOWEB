<!DOCTYPE html>
<html>
<head>
  <title>Relay Control</title>
</head>
<body>
  <h1>Relay Control</h1>
  <button onclick="sendCommand('on')">Relay ON</button>
  <button onclick="sendCommand('off')">Relay OFF</button>

  <script>
    const esp8266_ip = 'http://192.168.68.189'; // NodeMCU IP adresi

    function sendCommand(state) {
      fetch(`${esp8266_ip}/relay?state=${state}`)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.text();
        })
        .then(data => console.log(data))
        .catch(error => console.error('There has been a problem with your fetch operation:', error));
    }
  </script>
</body>
</html>
